import{h as C,E as ke,$ as U,a as _,H as i,Q as p,X as y,n as a,u as c,J as m,Y as Xe,L as v,F as N,q as F,I as A,N as D,f as R,r as Ye,G as $e,U as qe,K as B,M as ee,O as ge,P as pe,T as je,V as Fe,Z as q,W as Z,a5 as Be,a6 as Ce,a7 as Le,a8 as vt,a9 as ht,w as ft,v as _t,x as Ee}from"./vue-BnEBGbOL.js";import{aG as Q,aH as yt,$ as re,aI as h,f as te,B as W,Y as bt,aJ as gt,h as Se,i as O,aK as Y,k as De,C as We,D as me,a as xe,V as se,c as Oe,d as ve,e as Me,g as Re,j as Ne,Z as Ve,aL as Tt,aM as Pe,s as Ue,t as ye,A as be,m as Ze,a9 as kt,aN as Qe,G as K,aO as Te,aP as Je,aQ as $t,aR as Ct,aS as et,Q as we,aT as tt,aU as ot,aV as St,aW as Vt,aX as E,aY as at,R as Ke,X as wt,aZ as It,aC as Et,a_ as Dt,K as Ge,a$ as Ae,b0 as Pt,__tla as __tla_0}from"./index-CcSbghyA.js";import{d as At}from"./index-CTo0jUai.js";import{_ as Bt,a as He,__tla as __tla_1}from"./MoveTorrentDialog.vue_vue_type_script_setup_true_lang-CcZaY7Ku.js";import{u as lt}from"./vuetify-CmM3zIYZ.js";import{u as Lt,__tla as __tla_2}from"./ArrayPagination-6o88IyLB.js";let da;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})(),(()=>{try{return __tla_1}catch{}})(),(()=>{try{return __tla_2}catch{}})()]).then(async()=>{let xt,Ot,Mt,Rt,Nt,ne,X,Ut,ze,Kt,Ft,Gt,Ht,zt,nt,Xt,Yt,qt,rt,jt,Wt,Zt,st,Qt,Jt,eo,to,it,oo,ao,lo,no,dt,ro,so,ut,io,uo,ct,co,mo,po,mt,vo,ho,pt,fo,_o,yo,bo,go,To,ko,$o,Co,So,Vo,wo,Io,Eo,Do,Po,Ao,Bo,Lo,xo,Oo,Mo,Ro,No,Uo,Ko,Fo,Go,Ho,zo,Xo,Yo,qo,jo,Wo,Zo,Qo,Jo,ea,ta,oa;xt={class:"d-flex my-3"};Ot={class:"pa-0"};Mt={class:"d-flex align-center text-uppercase text-select",style:{"font-size":"0.8em"}};Rt=C({__name:"Toolbar",setup(f){const{t:e}=ke(),d=Q(),{torrentCountString:t,isSelectionMultiple:o,displayMode:u}=U(d),{isDrawerOpen:l}=U(yt()),n=re(),{sortOptions:r}=U(n),s=[{value:h.ADDED_ON,title:e("dashboard.sortBy.added_on")},{value:h.AMOUNT_LEFT,title:e("dashboard.sortBy.amount_left")},{value:h.AUTO_TMM,title:e("dashboard.sortBy.auto_tmm")},{value:h.AVAILABILITY,title:e("dashboard.sortBy.availability")},{value:h.AVG_DOWNLOAD_SPEED,title:e("dashboard.sortBy.avg_download_speed")},{value:h.AVG_UPLOAD_SPEED,title:e("dashboard.sortBy.avg_upload_speed")},{value:h.CATEGORY,title:e("dashboard.sortBy.category")},{value:h.COMPLETED,title:e("dashboard.sortBy.completed")},{value:h.COMPLETION_ON,title:e("dashboard.sortBy.completion_on")},{value:h.CONTENT_PATH,title:e("dashboard.sortBy.content_path")},{value:h.DL_LIMIT,title:e("dashboard.sortBy.dl_limit")},{value:h.DLSPEED,title:e("dashboard.sortBy.dlspeed")},{value:h.DOWNLOAD_PATH,title:e("dashboard.sortBy.download_path")},{value:h.DOWNLOADED,title:e("dashboard.sortBy.downloaded")},{value:h.DOWNLOADED_SESSION,title:e("dashboard.sortBy.downloaded_session")},{value:h.ETA,title:e("dashboard.sortBy.eta")},{value:h.F_L_PIECE_PRIO,title:e("dashboard.sortBy.f_l_piece_prio")},{value:h.FORCE_START,title:e("dashboard.sortBy.force_start")},{value:h.GLOBALSPEED,title:e("dashboard.sortBy.globalSpeed")},{value:h.GLOBALVOLUME,title:e("dashboard.sortBy.globalVolume")},{value:h.HASH,title:e("dashboard.sortBy.hash")},{value:h.INFOHASH_V1,title:e("dashboard.sortBy.infohash_v1")},{value:h.INFOHASH_V2,title:e("dashboard.sortBy.infohash_v2")},{value:h.LAST_ACTIVITY,title:e("dashboard.sortBy.last_activity")},{value:h.MAGNET_URI,title:e("dashboard.sortBy.magnet_uri")},{value:h.MAX_RATIO,title:e("dashboard.sortBy.max_ratio")},{value:h.MAX_SEEDING_TIME,title:e("dashboard.sortBy.max_seeding_time")},{value:h.NAME,title:e("dashboard.sortBy.name")},{value:h.NUM_COMPLETE,title:e("dashboard.sortBy.num_complete")},{value:h.NUM_INCOMPLETE,title:e("dashboard.sortBy.num_incomplete")},{value:h.NUM_LEECHS,title:e("dashboard.sortBy.num_leechs")},{value:h.NUM_SEEDS,title:e("dashboard.sortBy.num_seeds")},{value:h.PRIORITY,title:e("dashboard.sortBy.priority")},{value:h.PROGRESS,title:e("dashboard.sortBy.progress")},{value:h.RATIO,title:e("dashboard.sortBy.ratio")},{value:h.RATIO_LIMIT,title:e("dashboard.sortBy.ratio_limit")},{value:h.SAVE_PATH,title:e("dashboard.sortBy.save_path")},{value:h.SEEDING_TIME,title:e("dashboard.sortBy.seeding_time")},{value:h.SEEDING_TIME_LIMIT,title:e("dashboard.sortBy.seeding_time_limit")},{value:h.SEEN_COMPLETE,title:e("dashboard.sortBy.seen_complete")},{value:h.SEQ_DL,title:e("dashboard.sortBy.seq_dl")},{value:h.SIZE,title:e("dashboard.sortBy.size")},{value:h.STATE,title:e("dashboard.sortBy.state")},{value:h.SUPER_SEEDING,title:e("dashboard.sortBy.super_seeding")},{value:h.TAGS,title:e("dashboard.sortBy.tags")},{value:h.TIME_ACTIVE,title:e("dashboard.sortBy.time_active")},{value:h.TOTAL_SIZE,title:e("dashboard.sortBy.total_size")},{value:h.TRACKER,title:e("dashboard.sortBy.tracker")},{value:h.TRACKERS_COUNT,title:e("dashboard.sortBy.trackers_count")},{value:h.UP_LIMIT,title:e("dashboard.sortBy.up_limit")},{value:h.UPLOADED,title:e("dashboard.sortBy.uploaded")},{value:h.UPLOADED_SESSION,title:e("dashboard.sortBy.uploaded_session")},{value:h.UPSPEED,title:e("dashboard.sortBy.upspeed")}].sort((P,g)=>P.title.localeCompare(g.title));s.splice(0,0,{value:h.DEFAULT,title:e("dashboard.sortBy.default")});function $(){n.textFilter=""}const b=_({get:()=>n.textFilter,set:At(P=>{n.textFilter=P??""},300)});function x(){o.value&&d.unselectAllTorrents(),o.value=!o.value}return(P,g)=>(i(),p(N,null,[y("div",null,[a(te,{id:"searchInput",modelValue:b.value,"onUpdate:modelValue":g[0]||(g[0]=S=>b.value=S),label:c(e)("dashboard.searchInputLabel"),clearable:"",density:"compact","single-line":"","hide-details":"","prepend-inner-icon":"mdi-magnify",variant:"solo","onClick:clear":g[1]||(g[1]=S=>$())},null,8,["modelValue","label"])]),y("div",xt,[a(W,{text:c(e)("dashboard.toggleSelectMode"),location:"top"},{activator:m(({props:S})=>[a(O,F({icon:c(o)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"},S,{variant:"plain",onClick:x}),null,16,["icon"])]),_:1},8,["text"]),a(bt,null,{activator:m(({props:S})=>[a(W,{text:P.$t("dashboard.displayMode.title"),location:"top"},{activator:m(({props:V})=>[a(O,F({icon:""},F(S,V),{variant:"plain"}),{default:m(()=>[c(u)===c(Y).LIST?(i(),A(De,{key:0,icon:"mdi-view-list"})):D("",!0),c(u)===c(Y).GRID?(i(),A(De,{key:1,icon:"mdi-view-grid"})):D("",!0),c(u)===c(Y).TABLE?(i(),A(De,{key:2,icon:"mdi-table"})):D("",!0)]),_:2},1040)]),_:2},1032,["text"])]),default:m(()=>[a(We,null,{default:m(()=>[a(me,{title:P.$t("dashboard.displayMode.list"),"prepend-icon":"mdi-view-list",onClick:g[2]||(g[2]=S=>u.value=c(Y).LIST)},null,8,["title"]),a(me,{title:P.$t("dashboard.displayMode.grid"),"prepend-icon":"mdi-view-grid",onClick:g[3]||(g[3]=S=>u.value=c(Y).GRID)},null,8,["title"]),a(me,{title:P.$t("dashboard.displayMode.table"),"prepend-icon":"mdi-table",onClick:g[4]||(g[4]=S=>u.value=c(Y).TABLE)},null,8,["title"])]),_:1})]),_:1}),a(W,{text:c(e)("dashboard.toggleSortOrder"),location:"top"},{activator:m(({props:S})=>[a(O,F({icon:c(r).reverseOrder?"mdi-arrow-up-thin":"mdi-arrow-down-thin"},S,{variant:"plain",onClick:g[5]||(g[5]=V=>c(r).reverseOrder=!c(r).reverseOrder)}),null,16,["icon"])]),_:1},8,["text"]),y("div",Ot,[a(gt,{modelValue:c(r).sortBy,"onUpdate:modelValue":g[6]||(g[6]=S=>c(r).sortBy=S),items:c(s),label:c(e)("dashboard.sortLabel"),"auto-select-first":"",density:"compact","hide-details":"",variant:"solo-filled",style:Xe(`width: ${P.$vuetify.display.xs||P.$vuetify.display.sm&&c(l)?140:260}px`)},null,8,["modelValue","items","label","style"])]),a(Se),y("div",Mt,v(c(t)),1)])],64))}});Nt=C({__name:"RenameTorrentDialog",props:{guid:{},hash:{}},setup(f){const e=f,{isOpened:d}=xe(e.guid),{t}=ke(),o=re(),u=R(),l=R(),n=R(!1),r=Ye({newName:""}),s=[g=>!!g||t("dialogs.renameTorrent.required"),g=>g!==b.value||t("dialogs.renameTorrent.sameName")],$=_(()=>o.getTorrentByHash(e.hash)),b=_(()=>$.value?.name);async function x(){await l.value?.validate(),n.value&&(await o.renameTorrent(e.hash,r.newName),P())}const P=()=>{d.value=!1};return $e(()=>{r.newName=$.value?.name||""}),qe(()=>{u.value?.select()}),(g,S)=>(i(),A(Ne,{modelValue:c(d),"onUpdate:modelValue":S[3]||(S[3]=V=>pe(d)?d.value=V:null)},{default:m(()=>[a(se,null,{default:m(()=>[a(Oe,null,{default:m(()=>[B(v(g.$t("dialogs.renameTorrent.title")),1)]),_:1}),a(ve,null,{default:m(()=>[a(c(Me),{modelValue:n.value,"onUpdate:modelValue":S[1]||(S[1]=V=>n.value=V),ref_key:"form",ref:l,onSubmit:S[2]||(S[2]=ee(()=>{},["prevent"]))},{default:m(()=>[b.value?(i(),A(te,{key:0,"model-value":b.value,disabled:"",label:g.$t("dialogs.renameTorrent.oldName")},null,8,["model-value","label"])):D("",!0),a(te,{modelValue:r.newName,"onUpdate:modelValue":S[0]||(S[0]=V=>r.newName=V),ref_key:"field",ref:u,rules:s,autofocus:"",label:g.$t("dialogs.renameTorrent.newName"),onKeydown:ge(x,["enter"])},null,8,["modelValue","label"])]),_:1},8,["modelValue"])]),_:1}),a(Re,null,{default:m(()=>[a(Se),a(O,{color:"error",onClick:P},{default:m(()=>[B(v(g.$t("common.cancel")),1)]),_:1}),a(O,{color:"accent",disabled:!n.value,onClick:x},{default:m(()=>[B(v(g.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});ne=-2;X=-1;Ut=C({__name:"ShareLimitDialog",props:{guid:{},hashes:{}},setup(f){const e=f,{isOpened:d}=xe(e.guid),t=Ve(),o=re(),u=R(!1),l=R("global"),n=R(!1),r=R(0),s=R(!1),$=R(0),b=R(!1),x=R(0),P=_(()=>l.value!=="enabled");function g(){d.value=!1}async function S(){switch(l.value){case"global":await t.setShareLimit(e.hashes,ne,ne,ne);break;case"disabled":await t.setShareLimit(e.hashes,X,X,X);break;case"enabled":await t.setShareLimit(e.hashes,n.value?r.value:X,s.value?$.value:X,b.value?x.value:X);break}g()}return $e(async()=>{const V=o.getTorrentByHash(e.hashes[0]);if(!V)return g();const T=V.ratio_limit,w=V.seeding_time_limit,H=V.inactive_seeding_time_limit;T===ne&&w===ne&&H===ne?l.value="global":T===X&&w===X&&H===X?l.value="disabled":(l.value="enabled",n.value=T>=0,r.value=n.value?T:0,s.value=w>=0,$.value=s.value?w:0,b.value=H>=0,x.value=b.value?H:0)}),(V,T)=>(i(),A(Ne,{modelValue:c(d),"onUpdate:modelValue":T[9]||(T[9]=w=>pe(d)?d.value=w:null),"max-width":"500"},{default:m(()=>[a(se,{title:V.$t("dialogs.share_limit.title")},{default:m(()=>[a(ve,null,{default:m(()=>[a(Me,{modelValue:u.value,"onUpdate:modelValue":T[7]||(T[7]=w=>u.value=w),onSubmit:T[8]||(T[8]=ee(()=>{},["prevent"])),onKeydown:ge(ee(S,["prevent"]),["enter"])},{default:m(()=>[a(Tt,{modelValue:l.value,"onUpdate:modelValue":T[0]||(T[0]=w=>l.value=w)},{default:m(()=>[a(Pe,{label:V.$t("dialogs.share_limit.global"),value:"global"},null,8,["label"]),a(Pe,{label:V.$t("dialogs.share_limit.disabled"),value:"disabled"},null,8,["label"]),a(Pe,{label:V.$t("dialogs.share_limit.enabled"),value:"enabled"},null,8,["label"])]),_:1},8,["modelValue"]),a(Ue,null,{default:m(()=>[a(ye,{cols:"12",class:"d-flex align-center"},{default:m(()=>[y("span",null,[a(be,{modelValue:n.value,"onUpdate:modelValue":T[1]||(T[1]=w=>n.value=w),disabled:P.value},null,8,["modelValue","disabled"])]),a(te,{modelValue:r.value,"onUpdate:modelValue":T[2]||(T[2]=w=>r.value=w),disabled:P.value||!n.value,density:"compact","hide-details":"",label:V.$t("dialogs.share_limit.ratio_limit")},null,8,["modelValue","disabled","label"])]),_:1}),a(ye,{cols:"12",class:"d-flex align-center"},{default:m(()=>[y("span",null,[a(be,{modelValue:s.value,"onUpdate:modelValue":T[3]||(T[3]=w=>s.value=w),disabled:P.value},null,8,["modelValue","disabled"])]),a(te,{modelValue:$.value,"onUpdate:modelValue":T[4]||(T[4]=w=>$.value=w),disabled:P.value||!s.value,density:"compact","hide-details":"",label:V.$t("dialogs.share_limit.seeding_time_limit")},null,8,["modelValue","disabled","label"])]),_:1}),a(ye,{cols:"12",class:"d-flex align-center"},{default:m(()=>[y("span",null,[a(be,{modelValue:b.value,"onUpdate:modelValue":T[5]||(T[5]=w=>b.value=w),disabled:P.value},null,8,["modelValue","disabled"])]),a(te,{modelValue:x.value,"onUpdate:modelValue":T[6]||(T[6]=w=>x.value=w),disabled:P.value||!b.value,density:"compact","hide-details":"",label:V.$t("dialogs.share_limit.inactive_seeding_time_limit")},null,8,["modelValue","disabled","label"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"])]),_:1}),a(Re,null,{default:m(()=>[a(Se),a(O,{color:"error",onClick:g},{default:m(()=>[B(v(V.$t("common.cancel")),1)]),_:1}),a(O,{color:"accent",disabled:!u.value,onClick:S},{default:m(()=>[B(v(V.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]))}});ze=C({__name:"SpeedLimitDialog",props:{guid:{},hashes:{},mode:{}},setup(f){const e=f,{isOpened:d}=xe(e.guid),t=Ve(),o=re(),u=R(!1),l=R(0);function n(){d.value=!1}async function r(){const s=Math.max(0,l.value)*1e3;switch(e.mode){case"download":await t.setDownloadLimit(s,e.hashes);break;case"upload":await t.setUploadLimit(s,e.hashes);break}n()}return $e(async()=>{const s=o.getTorrentByHash(e.hashes[0]);if(!s)return n();switch(e.mode){case"download":l.value=Math.max(0,Math.round(s.dl_limit/1e3));break;case"upload":l.value=Math.max(0,Math.round(s.up_limit/1e3));break}}),(s,$)=>(i(),A(Ne,{modelValue:c(d),"onUpdate:modelValue":$[3]||($[3]=b=>pe(d)?d.value=b:null)},{default:m(()=>[a(se,{title:s.$t(`dialogs.speed_limit.${s.mode}`)},{default:m(()=>[a(ve,null,{default:m(()=>[a(Me,{modelValue:u.value,"onUpdate:modelValue":$[1]||($[1]=b=>u.value=b),onSubmit:$[2]||($[2]=ee(()=>{},["prevent"])),onKeydown:ge(ee(r,["prevent"]),["enter"])},{default:m(()=>[a(te,{modelValue:l.value,"onUpdate:modelValue":$[0]||($[0]=b=>l.value=b),modelModifiers:{number:!0},type:"number",autofocus:"",clearable:"",label:s.$t("dialogs.speed_limit.label"),"prepend-inner-icon":"mdi-speedometer",suffix:"kB/s",onKeydown:ge(ee(r,["prevent"]),["enter"])},null,8,["modelValue","label","onKeydown"])]),_:1},8,["modelValue","onKeydown"])]),_:1}),a(Re,null,{default:m(()=>[a(Se),a(O,{color:"error",onClick:n},{default:m(()=>[B(v(s.$t("common.cancel")),1)]),_:1}),a(O,{color:"accent",disabled:!u.value,onClick:r},{default:m(()=>[B(v(s.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]))}});Kt={class:"d-flex justify-space-around"};Ft=C({__name:"RightClick",props:{rightClickProperties:{}},setup(f){const{t:e}=ke(),d=je(),t=Q(),o=Ze(),u=Ve(),l=kt(),n=re(),r=_(()=>t.selectedTorrents.length>1),s=_(()=>t.selectedTorrents),$=_(()=>s.value[0]),b=_(()=>n.getTorrentByHash($.value)),x=_(()=>t.selectedTorrents.map(n.getTorrentByHash).filter(I=>!!I)),P=_(()=>[{name:""},...u.categories]);async function g(){await n.resumeTorrents(s)}async function S(){await n.forceResumeTorrents(s)}async function V(){await n.pauseTorrents(s)}function T(){o.createDialog(Qe,{hashes:[...t.selectedTorrents]})}function w(){o.createDialog(He,{hashes:[...t.selectedTorrents],mode:"dl"})}function H(){o.createDialog(He,{hashes:[...t.selectedTorrents],mode:"save"})}function j(){o.createDialog(Nt,{hash:t.selectedTorrents[0]})}async function ie(){await n.recheckTorrents(s)}async function he(){await u.reannounceTorrents(s)}async function Ie(){await u.toggleSeqDl(s)}async function de(){await u.toggleFLPiecePrio(s)}async function ue(){await u.toggleAutoTmm(s,!b.value?.auto_tmm)}function oe(I){return x.value.every(z=>z&&z.tags&&z.tags.includes(I))}async function ae(){await n.removeTorrentTags(s.value)}async function fe(I){oe(I)?await n.removeTorrentTags(s.value,[I]):await n.addTorrentTags(s.value,[I])}async function J(I){try{await navigator.clipboard.writeText(I)}catch{Fe.error(e("toast.copy.error"));return}Fe.success(e("toast.copy.success"))}function ce(){o.createDialog(ze,{hashes:s.value,mode:"download"})}function _e(){o.createDialog(ze,{hashes:s.value,mode:"upload"})}function k(){o.createDialog(Ut,{hashes:s.value})}async function L(){s.value.forEach(I=>{n.exportTorrent(I).then(z=>{const G=window.URL.createObjectURL(z),le=document.createElement("a");le.href=G,le.style.opacity="0",le.setAttribute("download",`${I}.torrent`),document.body.appendChild(le),le.click(),document.body.removeChild(le)})})}const M=_(()=>[{text:e("dashboard.right_click.advanced.title"),icon:"mdi-head-cog",children:[{text:e("dashboard.right_click.advanced.download_path"),icon:"mdi-tray-arrow-down",action:w},{text:e("dashboard.right_click.advanced.save_path"),icon:"mdi-content-save",action:H},{text:e("dashboard.right_click.advanced.rename"),icon:"mdi-rename-box",hidden:r.value,action:j},{text:e("dashboard.right_click.advanced.recheck"),icon:"mdi-playlist-check",action:ie},{text:e("dashboard.right_click.advanced.reannounce"),icon:"mdi-bullhorn",action:he},{text:e("dashboard.right_click.advanced.seq_dl"),icon:b.value?.seq_dl?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:Ie},{text:e("dashboard.right_click.advanced.f_l_prio"),icon:b.value?.f_l_piece_prio?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:de},{text:e("dashboard.right_click.advanced.auto_tmm"),icon:b.value?.auto_tmm?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:ue}]},{text:e("dashboard.right_click.priority.title"),icon:"mdi-priority-high",hidden:!l.preferences?.queueing_enabled,children:[{text:e("dashboard.right_click.priority.top"),icon:"mdi-priority-high",action:async()=>await n.setTorrentPriority(s.value,"topPrio")},{text:e("dashboard.right_click.priority.increase"),icon:"mdi-arrow-up",action:async()=>await n.setTorrentPriority(s.value,"increasePrio")},{text:e("dashboard.right_click.priority.decrease"),icon:"mdi-arrow-down",action:async()=>await n.setTorrentPriority(s.value,"decreasePrio")},{text:e("dashboard.right_click.priority.bottom"),icon:"mdi-priority-low",action:async()=>await n.setTorrentPriority(s.value,"bottomPrio")}]},{text:e("dashboard.right_click.tags.title"),icon:"mdi-tag",disabled:u.tags.length===0,disabledText:e("dashboard.right_click.tags.disabled_title"),disabledIcon:"mdi-tag-off",children:[...b.value?.tags.length?[{text:e("dashboard.right_click.tags.remove_all"),action:ae,icon:"mdi-playlist-remove"}]:[],...u.tags.map(I=>({text:I,icon:oe(I)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",action:async()=>await fe(I)}))]},{text:e("dashboard.right_click.category.title"),icon:"mdi-label",disabled:u.categories.length===0,disabledText:e("dashboard.right_click.category.disabled_title"),disabledIcon:"mdi-label-off",children:P.value.map(I=>({text:I.name===""?e("dashboard.right_click.category.clear"):I.name,action:async()=>await n.setTorrentCategory(s.value,I.name)}))},{text:e("dashboard.right_click.speed_limit.title"),icon:"mdi-speedometer-slow",children:[{text:e("dashboard.right_click.speed_limit.download"),icon:"mdi-download",action:ce},{text:e("dashboard.right_click.speed_limit.upload"),icon:"mdi-upload",action:_e},{text:e("dashboard.right_click.speed_limit.share"),icon:"mdi-account-group",action:k}]},{text:e("dashboard.right_click.copy.title"),icon:"mdi-content-copy",hidden:r.value,children:[{text:e("dashboard.right_click.copy.name"),icon:"mdi-alphabetical-variant",action:async()=>b.value&&await J(b.value.name)},{text:e("dashboard.right_click.copy.hash"),icon:"mdi-pound",action:async()=>await J($.value)},{text:e("dashboard.right_click.copy.magnet"),icon:"mdi-magnet",action:async()=>b.value&&await J(b.value.magnet)}]},{text:e("dashboard.right_click.export",t.selectedTorrents.length),icon:r.value?"mdi-download-multiple":"mdi-download",action:L},{text:e("dashboard.right_click.info"),icon:"mdi-information",hidden:r.value,action:()=>d.push({name:"torrentDetail",params:{hash:$.value}})}]);return(I,z)=>(i(),p("div",{style:Xe(`position: absolute; left: ${I.rightClickProperties.offset[0]}px; top: ${I.rightClickProperties.offset[1]}px;`)},[a(c(Bt),{modelValue:I.rightClickProperties.isVisible,"onUpdate:modelValue":z[0]||(z[0]=G=>I.rightClickProperties.isVisible=G),"menu-data":M.value},{top:m(()=>[a(me,null,{default:m(()=>[y("div",Kt,[a(W,{location:"top"},{activator:m(({props:G})=>[a(O,F({density:"compact",variant:"plain",icon:"mdi-play"},G,{onClick:g}),null,16)]),default:m(()=>[y("span",null,v(I.$t("dashboard.right_click.top.resume")),1)]),_:1}),a(W,{location:"top"},{activator:m(({props:G})=>[a(O,F({density:"compact",variant:"plain",icon:"mdi-fast-forward"},G,{onClick:S}),null,16)]),default:m(()=>[y("span",null,v(I.$t("dashboard.right_click.top.force_resume")),1)]),_:1}),a(W,{location:"top"},{activator:m(({props:G})=>[a(O,F({density:"compact",variant:"plain",icon:"mdi-pause"},G,{onClick:V}),null,16)]),default:m(()=>[y("span",null,v(I.$t("dashboard.right_click.top.pause")),1)]),_:1}),a(W,{location:"top"},{activator:m(({props:G})=>[a(O,F({color:"red",density:"compact",variant:"plain",icon:"mdi-delete-forever"},G,{onClick:T}),null,16)]),default:m(()=>[y("span",null,v(I.$t("dashboard.right_click.top.delete")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","menu-data"])],4))}});Gt={class:"d-flex flex-column"};Ht={key:0,class:"text-caption text-grey"};zt={key:0,class:"text-caption text-grey"};nt=C({__name:"ItemAmount",props:{torrent:{},titleKey:{},value:{type:Function},total:{type:Function}},setup(f){return(e,d)=>(i(),p("div",Gt,[e.titleKey?(i(),p("div",Ht,v(e.$t(e.titleKey)),1)):D("",!0),y("div",null,[B(v(e.value(e.torrent))+" ",1),e.total?(i(),p("span",zt," / "+v(e.total(e.torrent)),1)):D("",!0)])]))}});Xt={key:0,class:"d-flex flex-column"};Yt={key:0,class:"text-caption text-grey"};qt={class:"d-flex flex-row flex-gap"};rt=C({__name:"ItemChip",props:{torrent:{},titleKey:{},value:{},emptyValueKey:{},color:{},enableHashColor:{type:Boolean,default:!1}},setup(f){const e=f,{hideChipIfUnset:d,enableHashColors:t}=U(K()),o=_(()=>e.value(e.torrent)),u=_(()=>o.value.length<1||o.value[0]===""),l=_(()=>!(d.value&&u.value)),n=_(()=>t.value&&e.enableHashColor);return(r,s)=>l.value?(i(),p("div",Xt,[r.titleKey?(i(),p("div",Yt,v(r.$t(r.titleKey)),1)):D("",!0),y("div",qt,[u.value?(i(),A(Te,{key:0,color:r.color(r.torrent),variant:"flat",size:"small"},{default:m(()=>[B(v(r.$t(r.emptyValueKey)),1)]),_:1},8,["color"])):(i(!0),p(N,{key:1},q(o.value,$=>(i(),A(Te,{color:n.value?c(Je)($):r.color(r.torrent),variant:"flat",size:"small"},{default:m(()=>[B(v($),1)]),_:2},1032,["color"]))),256))])])):D("",!0)}});jt={class:"d-flex flex-column"};Wt={key:0,class:"text-caption text-grey"};Zt={class:"text-caption text-grey"};st=C({__name:"ItemData",props:{torrent:{},titleKey:{},value:{type:Function}},setup(f){const e=f,{useBinarySize:d}=U(K()),t=_(()=>e.value(e.torrent));return(o,u)=>(i(),p("div",jt,[o.titleKey?(i(),p("div",Wt,v(o.$t(o.titleKey)),1)):D("",!0),y("div",null,[B(v(c($t)(t.value,c(d)))+" ",1),y("span",Zt,v(c(Ct)(t.value,c(d))),1)])]))}});Qt={class:"d-flex flex-column"};Jt={key:0,class:"text-caption text-grey"};eo={key:0};to={key:1};it=C({__name:"ItemDateTime",props:{torrent:{},titleKey:{},value:{type:Function}},setup(f){const e=f,{dateFormat:d}=U(K()),t=_(()=>e.value(e.torrent));return(o,u)=>(i(),p("div",Qt,[o.titleKey?(i(),p("div",Jt,v(o.$t(o.titleKey)),1)):D("",!0),y("div",null,[t.value>0?(i(),p("span",eo,v(c(et)(t.value,c(d))),1)):(i(),p("span",to,v(o.$t("dashboard.not_complete")),1))])]))}});oo={class:"d-flex flex-column"};ao={key:0,class:"text-caption text-grey"};lo={key:0};no={key:1};dt=C({__name:"ItemDuration",props:{torrent:{},titleKey:{},unit:{},value:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent)),t=_(()=>{const o=we.duration(d.value,e.unit),u=[o.years(),o.months(),o.days(),o.hours(),o.minutes(),o.seconds()],l=["Y","M","d","h","m","s"];let n=!1;return u.map((r,s)=>{if(n||r)return n=!0,`${r}${l[s]}`}).filter(r=>r).join(" ")});return(o,u)=>(i(),p("div",oo,[o.titleKey?(i(),p("div",ao,v(o.$t(o.titleKey)),1)):D("",!0),y("div",null,[d.value>0?(i(),p("span",lo,v(t.value),1)):(i(),p("span",no,v(o.$t("common.NA")),1))])]))}});ro={class:"d-flex flex-column"};so={key:0,class:"text-caption text-grey"};ut=C({__name:"ItemPercent",props:{torrent:{},titleKey:{},value:{type:Function},color:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent));return(t,o)=>(i(),p("div",ro,[t.titleKey?(i(),p("div",so,v(t.$t(t.titleKey)),1)):D("",!0),a(ot,{"model-value":d.value,max:1,height:20,color:t.color(t.torrent),rounded:"sm",style:{width:"10em"}},{default:m(()=>[B(v(c(tt)(d.value)),1)]),_:1},8,["model-value","color"])]))}});io={class:"d-flex flex-column"};uo={key:0,class:"text-caption text-grey"};ct=C({__name:"ItemRelativeTime",props:{torrent:{},titleKey:{},value:{type:Function}},setup(f){return(e,d)=>(i(),p("div",io,[e.titleKey?(i(),p("div",uo,v(e.$t(e.titleKey)),1)):D("",!0),y("div",null,[y("span",null,v(c(we)(e.value(e.torrent)*1e3).fromNow()),1)])]))}});co={class:"d-flex flex-column"};mo={key:0,class:"text-caption text-grey"};po={class:"text-caption text-grey"};mt=C({__name:"ItemSpeed",props:{torrent:{},titleKey:{},value:{type:Function}},setup(f){const e=f,{useBitSpeed:d}=U(K()),t=_(()=>e.value(e.torrent));return(o,u)=>(i(),p("div",co,[o.titleKey?(i(),p("div",mo,v(o.$t(o.titleKey)),1)):D("",!0),y("div",null,[B(v(c(St)(t.value,c(d)))+" ",1),y("span",po,v(c(Vt)(t.value,c(d))),1)])]))}});vo={class:"d-flex flex-column"};ho={key:0,class:"text-caption text-grey"};pt=C({__name:"ItemText",props:{torrent:{},titleKey:{},value:{type:Function},color:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent));return(t,o)=>(i(),p("div",vo,[t.titleKey?(i(),p("div",ho,v(t.$t(t.titleKey)),1)):D("",!0),y("div",{class:Z(t.color?t.color(d.value):"")},v(d.value),3)]))}});fo={class:"d-flex flex-gap flex-wrap"};_o=C({__name:"GridTorrent",props:{torrent:{}},emits:["onTorrentClick"],setup(f){const e=f,d=Q(),t=K(),o=_(()=>(e.torrent.progress===1?t.doneGridProperties:t.busyGridProperties).filter(r=>r.active).sort((r,s)=>r.order-s.order)),u=n=>{switch(n){case E.AMOUNT:return nt;case E.CHIP:return rt;case E.DATA:return st;case E.DATETIME:return it;case E.DURATION:return dt;case E.PERCENT:return ut;case E.RELATIVE:return ct;case E.SPEED:return mt;case E.TEXT:default:return pt}},l=_(()=>d.isTorrentInSelection(e.torrent.hash));return(n,r)=>(i(),A(se,{class:Z(`sideborder ${n.torrent.state} cursor-pointer`),height:"100%",color:l.value?`torrent-${n.torrent.state}-darken-3`:void 0,onClick:r[0]||(r[0]=s=>n.$emit("onTorrentClick",s,n.torrent))},{default:m(()=>[a(Oe,{class:"text-wrap text-subtitle-1 pt-1 pb-0"},{default:m(()=>[B(v(n.torrent.name),1)]),_:1}),a(ve,null,{default:m(()=>[y("div",fo,[(i(!0),p(N,null,q(o.value,s=>(i(),p(N,null,[s.props?(i(),A(Be(u(s.type)),F({key:0,torrent:n.torrent,ref_for:!0},s.props),null,16,["torrent"])):D("",!0)],64))),256))])]),_:1})]),_:1},8,["class","color"]))}});yo={class:"d-flex align-center",style:{height:"100%",width:"100%"}};bo=C({__name:"GridView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(f){const e=lt(),d=Q();return(t,o)=>(i(),A(Ue,{id:"torrentList"},{default:m(()=>[(i(!0),p(N,null,q(t.paginatedTorrents,u=>(i(),A(ye,{cols:"12",lg:"3",md:"4",sm:"6",xl:"2",class:Z([c(e).mobile?"pb-2":"pb-4","pt-0"]),onContextmenu:l=>t.$emit("onTorrentRightClick",l,u),onTouchcancel:o[1]||(o[1]=l=>t.$emit("endPress")),onTouchend:o[2]||(o[2]=l=>t.$emit("endPress")),onTouchmove:o[3]||(o[3]=l=>t.$emit("endPress")),onTouchstart:l=>t.$emit("startPress",l.touches.item(0),u),onDblclick:l=>t.$emit("onTorrentDblClick",u)},{default:m(()=>[y("div",yo,[a(at,null,{default:m(()=>[Ce(a(O,{color:`torrent-${u.state}`,icon:c(d).isTorrentInSelection(u.hash)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"mr-2",variant:"text",onClick:l=>t.$emit("onCheckboxClick",u)},null,8,["color","icon","onClick"]),[[Le,c(d).isSelectionMultiple]])]),_:2},1024),a(_o,{torrent:u,onOnTorrentClick:o[0]||(o[0]=(l,n)=>t.$emit("onTorrentClick",l,n))},null,8,["torrent"])])]),_:2},1032,["class","onContextmenu","onTouchstart","onDblclick"]))),256))]),_:1}))}});go=Ke(bo,[["__scopeId","data-v-8292d1aa"]]);To={class:"d-flex flex-gap flex-wrap"};ko=C({__name:"ListTorrent",props:{torrent:{}},emits:["onTorrentClick"],setup(f){const e=f,d=Q(),t=K(),o=_(()=>(e.torrent.progress===1?t.doneTorrentProperties:t.busyTorrentProperties).filter(r=>r.active).sort((r,s)=>r.order-s.order)),u=n=>{switch(n){case E.AMOUNT:return nt;case E.CHIP:return rt;case E.DATA:return st;case E.DATETIME:return it;case E.DURATION:return dt;case E.PERCENT:return ut;case E.RELATIVE:return ct;case E.SPEED:return mt;case E.TEXT:default:return pt}},l=_(()=>d.isTorrentInSelection(e.torrent.hash));return(n,r)=>(i(),A(se,{class:Z(`sideborder ${n.torrent.state} cursor-pointer`),width:"100%",color:l.value?`torrent-${n.torrent.state}-darken-3`:void 0,onClick:r[0]||(r[0]=s=>n.$emit("onTorrentClick",s,n.torrent))},{default:m(()=>[a(Oe,{class:"text-wrap pt-1 pb-0 px-2 text-truncate",style:{"font-size":"0.97em"}},{default:m(()=>[B(v(n.torrent.name),1)]),_:1}),a(ve,{class:"pa-2 pt-0"},{default:m(()=>[y("div",To,[(i(!0),p(N,null,q(o.value,s=>(i(),p(N,null,[s.props?(i(),A(Be(u(s.type)),F({key:0,torrent:n.torrent,ref_for:!0},s.props),null,16,["torrent"])):D("",!0)],64))),256))])]),_:1})]),_:1},8,["class","color"]))}});$o={class:"d-flex align-center"};Co=C({__name:"ListView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(f){const e=lt(),d=Q();return(t,o)=>(i(),A(We,{id:"torrentList",class:"pa-0"},{default:m(()=>[(i(!0),p(N,null,q(t.paginatedTorrents,u=>(i(),A(me,{id:`torrent-${u.hash}`,class:Z([c(e).mobile?"mb-2":"mb-4","pa-0"]),onContextmenu:l=>t.$emit("onTorrentRightClick",l,u),onTouchcancel:o[1]||(o[1]=l=>t.$emit("endPress")),onTouchend:o[2]||(o[2]=l=>t.$emit("endPress")),onTouchmove:o[3]||(o[3]=l=>t.$emit("endPress")),onTouchstart:l=>t.$emit("startPress",l.touches.item(0),u),onDblclick:l=>t.$emit("onTorrentDblClick",u)},{default:m(()=>[y("div",$o,[a(at,null,{default:m(()=>[Ce(a(O,{color:`torrent-${u.state}`,icon:c(d).isTorrentInSelection(u.hash)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"mr-2",variant:"text",onClick:l=>t.$emit("onCheckboxClick",u)},null,8,["color","icon","onClick"]),[[Le,c(d).isSelectionMultiple]])]),_:2},1024),a(ko,{torrent:u,onOnTorrentClick:o[0]||(o[0]=(l,n)=>t.$emit("onTorrentClick",l,n))},null,8,["torrent"])])]),_:2},1032,["id","class","onContextmenu","onTouchstart","onDblclick"]))),256))]),_:1}))}});So=Ke(Co,[["__scopeId","data-v-2b24c5da"]]);Vo={key:0};wo=C({__name:"ItemAmount",props:{torrent:{},value:{type:Function},total:{type:Function}},setup(f){return(e,d)=>(i(),p("td",null,[B(v(e.value(e.torrent))+" ",1),e.total?(i(),p("span",Vo," / "+v(e.total(e.torrent)),1)):D("",!0)]))}});Io={key:0,class:"d-flex flex-row flex-gap"};Eo=C({__name:"ItemChip",props:{torrent:{},value:{},emptyValueKey:{},color:{},enableHashColor:{type:Boolean,default:!1}},setup(f){const e=f,{hideChipIfUnset:d,enableHashColors:t}=U(K()),o=_(()=>e.value(e.torrent)),u=_(()=>o.value.length<1||o.value[0]===""),l=_(()=>!(d.value&&u.value)),n=_(()=>t.value&&e.enableHashColor);return(r,s)=>(i(),p("td",null,[l.value?(i(),p("div",Io,[u.value?(i(),A(Te,{key:0,color:r.color(r.torrent),variant:"flat",size:"small"},{default:m(()=>[B(v(r.$t(r.emptyValueKey)),1)]),_:1},8,["color"])):(i(!0),p(N,{key:1},q(o.value,$=>(i(),A(Te,{color:n.value?c(Je)($):r.color(r.torrent),variant:"flat",size:"small"},{default:m(()=>[B(v($),1)]),_:2},1032,["color"]))),256))])):D("",!0)]))}});Do=C({__name:"ItemData",props:{torrent:{},value:{type:Function}},setup(f){const{useBinarySize:e}=U(K());return(d,t)=>(i(),p("td",null,v(c(wt)(d.value(d.torrent),c(e))),1))}});Po={key:0};Ao={key:1};Bo=C({__name:"ItemDateTime",props:{torrent:{},value:{type:Function}},setup(f){const e=f,{dateFormat:d}=U(K()),t=_(()=>e.value(e.torrent));return(o,u)=>t.value>0?(i(),p("td",Po,v(c(et)(t.value,c(d))),1)):(i(),p("td",Ao,v(o.$t("dashboard.not_complete")),1))}});Lo={key:0};xo={key:1};Oo=C({__name:"ItemDuration",props:{torrent:{},unit:{},value:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent)),t=_(()=>{const o=we.duration(d.value,e.unit),u=[o.years(),o.months(),o.days(),o.hours(),o.minutes(),o.seconds()],l=["Y","M","d","h","m","s"];let n=!1;return u.map((r,s)=>{if(n||r)return n=!0,`${r}${l[s]}`}).filter(r=>r).join(" ")});return(o,u)=>d.value>0?(i(),p("td",Lo,v(t.value),1)):(i(),p("td",xo,v(o.$t("common.NA")),1))}});Mo=C({__name:"ItemPercent",props:{torrent:{},value:{type:Function},color:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent));return(t,o)=>(i(),p("td",null,[a(ot,{"model-value":d.value,max:1,height:20,color:t.color(t.torrent),rounded:"sm",style:{width:"10em"}},{default:m(()=>[B(v(c(tt)(d.value)),1)]),_:1},8,["model-value","color"])]))}});Ro=C({__name:"ItemRelativeTime",props:{torrent:{},value:{type:Function}},setup(f){return(e,d)=>(i(),p("td",null,v(c(we)(e.value(e.torrent)*1e3).fromNow()),1))}});No=C({__name:"ItemSpeed",props:{torrent:{},value:{type:Function}},setup(f){const{useBitSpeed:e}=U(K());return(d,t)=>(i(),p("td",null,v(c(It)(d.value(d.torrent),c(e))),1))}});Uo=C({__name:"ItemText",props:{torrent:{},value:{type:Function},color:{type:Function}},setup(f){const e=f,d=_(()=>e.value(e.torrent));return(t,o)=>(i(),p("td",{class:Z(t.color?t.color(d.value):"")},v(d.value),3))}});Ko=C({__name:"TableTorrent",props:{torrent:{}},setup(f){const e=K(),d=_(()=>e.tableProperties.filter(o=>o.active).sort((o,u)=>o.order-u.order)),t=o=>{switch(o){case E.AMOUNT:return wo;case E.CHIP:return Eo;case E.DATA:return Do;case E.DATETIME:return Bo;case E.DURATION:return Oo;case E.PERCENT:return Mo;case E.RELATIVE:return Ro;case E.SPEED:return No;case E.TEXT:default:return Uo}};return(o,u)=>(i(!0),p(N,null,q(d.value,l=>(i(),p(N,null,[l.props?(i(),A(Be(t(l.type)),F({key:0,torrent:o.torrent,ref_for:!0},l.props),null,16,["torrent"])):D("",!0)],64))),256))}});Fo=f=>(vt("data-v-13e3f0fc"),f=f(),ht(),f);Go=Fo(()=>y("th",{class:"px-1"},null,-1));Ho={key:0};zo={class:"text-left"};Xo={class:"text-left"};Yo=["onContextmenu","onTouchstart","onClick","onDblclick"];qo={key:0};jo=C({__name:"TableView",props:{paginatedTorrents:{}},emits:["onCheckboxClick","onTorrentClick","onTorrentDblClick","onTorrentRightClick","startPress","endPress"],setup(f){const e=Q(),d=K(),t=_(()=>d.tableProperties.filter(l=>l.active).sort((l,n)=>l.order-n.order));function o(l){return e.isTorrentInSelection(l.hash)}const u=l=>["cursor-pointer",o(l)?`bg-torrent-${l.state}-darken-3 selected`:""];return(l,n)=>(i(),A(Et,{id:"torrentList",class:"pa-0",density:"compact"},{default:m(()=>[y("thead",null,[y("tr",null,[Go,c(e).isSelectionMultiple?(i(),p("th",Ho)):D("",!0),y("th",zo,v(l.$t("torrent.properties.name")),1),(i(!0),p(N,null,q(t.value,r=>(i(),p("th",Xo,v(l.$t(r.props.titleKey)),1))),256))])]),y("tbody",null,[(i(!0),p(N,null,q(l.paginatedTorrents,r=>Ce((i(),p("tr",{class:Z(u(r)),onContextmenu:s=>l.$emit("onTorrentRightClick",s,r),onTouchcancel:n[0]||(n[0]=s=>l.$emit("endPress")),onTouchend:n[1]||(n[1]=s=>l.$emit("endPress")),onTouchmove:n[2]||(n[2]=s=>l.$emit("endPress")),onTouchstart:s=>l.$emit("startPress",s.touches.item(0),r),onClick:s=>l.$emit("onTorrentClick",s,r),onDblclick:s=>l.$emit("onTorrentDblClick",r)},[y("td",{class:Z(`pa-0 bg-torrent-${r.state}`)},null,2),c(e).isSelectionMultiple?(i(),p("td",qo,[a(be,{"model-value":o(r),color:`torrent-${r.state}`,variant:"text",onClick:ee(s=>l.$emit("onCheckboxClick",r),["stop"])},null,8,["model-value","color","onClick"])])):D("",!0),y("td",null,v(r.name),1),a(Ko,{torrent:r},null,8,["torrent"])],42,Yo)),[[Dt]])),256))])]),_:1}))}});Wo=Ke(jo,[["__scopeId","data-v-13e3f0fc"]]);Zo={class:"pt-4 px-1 px-sm-5"};Qo={class:"text-grey"};Jo={key:0,class:"mt-5 text-xs-center"};ea={class:"text-grey"};ta={key:1};oa={key:5};da=C({__name:"Dashboard",setup(f){const{t:e}=ke(),d=je(),t=Q(),{currentPage:o,isSelectionMultiple:u,selectedTorrents:l,displayMode:n}=U(t),r=Ze(),s=Ve(),$=re(),{filteredTorrents:b}=U($),x=K(),P=_(()=>n.value===Y.LIST),g=_(()=>n.value===Y.GRID),S=_(()=>n.value===Y.TABLE),{paginatedResults:V,currentPage:T,pageCount:w}=Lt(b,x.paginationSize,o),H=_(()=>b.value.length<=l.value.length),j=Ye({isVisible:!1,offset:[0,0]});function ie(){window.scrollTo({top:0,behavior:"smooth"})}function he(k){if(k)return Ee(()=>{document.getElementById("searchInput")?.focus()});Ee(()=>{document.getElementById("searchInput")?.blur()})}function Ie(){H.value?t.unselectAllTorrents():t.selectTorrents(...b.value.map(k=>k.hash))}function de(k){u.value||d.push({name:"torrentDetail",params:{hash:k.hash}})}function ue(k){t.toggleSelect(k.hash)}function oe(k,L){k.shiftKey?t.spanTorrentSelection(L.hash):(Ae(k)||t.isSelectionMultiple)&&(t.isSelectionMultiple=!0,t.toggleSelect(L.hash))}async function ae(k,L){j.isVisible&&(j.isVisible=!1,await Ee()),j.isVisible=!0,j.offset=[k.pageX,k.pageY],u.value?l.value.length===0&&t.selectTorrent(L.hash):(t.unselectAllTorrents(),t.selectTorrent(L.hash))}const fe=R();function J(k,L){fe.value=setTimeout(()=>{ae(k,L)},500)}function ce(){clearTimeout(fe.value)}function _e(k){if(r.hasActiveDialog)return!1;const L=k.target;if(Ae(k)&&k.key==="a"&&L.tagName!=="INPUT")return t.unselectAllTorrents(),t.selectTorrents(...b.value.map(M=>M.hash)),k.preventDefault(),!0;if(Ae(k)&&k.key==="f"){const M=document.getElementById("searchInput");if(document.activeElement!==M)return he(!0),k.preventDefault(),!0}if(k.key==="Escape"){const M=document.getElementById("searchInput");return document.activeElement===M?he(!1):(u.value=!1,t.unselectAllTorrents()),k.preventDefault(),!0}if(k.key==="Delete")return l.value.length===0?void 0:(r.createDialog(Qe,{hashes:l.value}),k.preventDefault(),!0);if(k.key==="/"){const M=document.getElementById("searchInput");return document.activeElement!==M&&(d.push({name:"searchEngine"}),k.preventDefault()),!0}}return ft(()=>j.isVisible,k=>{!k&&!u.value&&t.unselectAllTorrents()}),$e(async()=>{await s.fetchCategories(),await s.fetchTags()}),qe(()=>{document.addEventListener("keydown",_e),u.value=!1,ie()}),_t(()=>{document.removeEventListener("keydown",_e)}),(k,L)=>(i(),p(N,null,[y("div",Zo,[a(Rt),a(Ue,{class:"ma-0 pa-0"},{default:m(()=>[a(Pt,null,{default:m(()=>[Ce(a(se,{color:"transparent"},{default:m(()=>[a(W,{text:c(e)("common.selectAll"),location:"bottom"},{activator:m(({props:M})=>[a(O,F({icon:H.value?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",class:"text-grey",color:"transparent",style:{left:"-8px"}},M,{onClick:Ie}),null,16,["icon"])]),_:1},8,["text"]),y("span",Qo,v(c(e)("dashboard.selectAll")),1)]),_:1},512),[[Le,c(u)]])]),_:1})]),_:1}),c(b).length===0?(i(),p("div",Jo,[y("p",ea,v(c(e)("common.emptyList")),1)])):D("",!0),c(x).isPaginationOnTop&&!c(x).isInfiniteScrollActive&&c(w)>1?(i(),p("div",ta,[a(Ge,{modelValue:c(T),"onUpdate:modelValue":L[0]||(L[0]=M=>pe(T)?T.value=M:null),length:c(w),"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",onInput:ie},null,8,["modelValue","length"])])):D("",!0),P.value?(i(),A(So,{key:2,"paginated-torrents":c(V),onOnTorrentClick:oe,onOnTorrentDblClick:de,onOnCheckboxClick:ue,onOnTorrentRightClick:ae,onStartPress:J,onEndPress:ce},null,8,["paginated-torrents"])):g.value?(i(),A(go,{key:3,class:"mb-2","paginated-torrents":c(V),onOnTorrentClick:oe,onOnTorrentDblClick:de,onOnCheckboxClick:ue,onOnTorrentRightClick:ae,onStartPress:J,onEndPress:ce},null,8,["paginated-torrents"])):S.value?(i(),A(Wo,{key:4,"paginated-torrents":c(V),onOnTorrentClick:oe,onOnTorrentDblClick:de,onOnCheckboxClick:ue,onOnTorrentRightClick:ae,onStartPress:J,onEndPress:ce},null,8,["paginated-torrents"])):D("",!0),!c(x).isPaginationOnTop&&!c(x).isInfiniteScrollActive&&c(w)>1?(i(),p("div",oa,[a(Ge,{modelValue:c(T),"onUpdate:modelValue":L[1]||(L[1]=M=>pe(T)?T.value=M:null),length:c(w),"next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left",onInput:ie},null,8,["modelValue","length"])])):D("",!0)]),a(Ft,{"right-click-properties":j},null,8,["right-click-properties"])],64))}})});export{da as default,__tla};